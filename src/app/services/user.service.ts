import {Injectable} from "@angular/core";import {HttpClient} from "@angular/common/http";import {Observable, switchMap} from "rxjs";import {SearchService} from "./search.service";import {User} from "../interfaces";@Injectable()export class UserService {  isUsers: boolean = false;  headerDict = {    'Content-Type': 'application/json',    'Accept': 'application/json',    'Access-Control-Allow-Headers': 'Content-Type',  }  requestOptions = {    headers: new Headers(this.headerDict),  };  constructor(    private httpClient: HttpClient,    private searchService: SearchService  ) {}  getUsers(name: string): Observable<any>{    // @ts-ignore    return this.httpClient.get(`https://api.github.com/search/users?q=${name}&sort=stars&per_page=20`, this.requestOptions);  }  getUser(URL: string): Observable<any>{    console.log(URL);    return this.httpClient.get<any>(`${URL}`);  }  user(): Observable<any> {    return this.searchService.$search      .pipe(        switchMap((name: string)=> {          return this.getUsers(name)        }),        switchMap((response: any)=> {          if (response) this.isUsers = true;          console.log(this.isUsers);          return response['items'];        })      )  }}